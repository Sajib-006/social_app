{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\Reading stuffs\\\\Sketches\\\\Tracthon\\\\components\\\\assistance\\\\appointmentForm.jsx\",\n    _this2 = this;\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from \"react\";\nimport { instanceOf } from \"prop-types\";\nimport { withCookies, Cookies } from \"react-cookie\";\nimport AssistanceType from \"./assistanceType\";\nimport FirstStep from \"./firstStep\";\nimport SecondStep from \"./secondStep\";\nimport { Typography } from \"@material-ui/core\";\n\nvar AppointmentForm = /*#__PURE__*/function (_Component) {\n  _inherits(AppointmentForm, _Component);\n\n  var _super = _createSuper(AppointmentForm);\n\n  function AppointmentForm() {\n    var _this;\n\n    _classCallCheck(this, AppointmentForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      step: 0,\n      assistanceType: \"\",\n      category: \"\",\n      description: \"\",\n      meetingType: \"\",\n      meetingTime: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleStepChange\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(step) {\n        var cookies, requestOptions, response, token;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                cookies = _this.props.cookies;\n                console.log(\"Token from cookies in appointment form\", cookies.get(\"token\"));\n                requestOptions = {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: JSON.stringify(userInfo)\n                };\n                _context.next = 5;\n                return fetch(server + \"/api/POST\", requestOptions);\n\n              case 5:\n                response = _context.sent;\n                _context.next = 8;\n                return response.json();\n\n              case 8:\n                token = _context.sent;\n\n                _this.setState({\n                  step: step\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFormDataChange\", function (field, value) {\n      _this.setState(_defineProperty({}, field, value));\n    });\n\n    return _this;\n  }\n\n  _createClass(AppointmentForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          step = _this$state.step,\n          assistanceType = _this$state.assistanceType,\n          category = _this$state.category,\n          description = _this$state.description,\n          meetingType = _this$state.meetingType,\n          meetingTime = _this$state.meetingTime;\n      var values = {\n        assistanceType: assistanceType,\n        category: category,\n        description: description,\n        meetingType: meetingType,\n        meetingTime: meetingTime\n      };\n\n      switch (step) {\n        case 0:\n          return __jsx(AssistanceType, {\n            setStep: this.handleStepChange,\n            setFormData: this.handleFormDataChange,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 11\n            }\n          });\n\n        case 1:\n          return __jsx(FirstStep, {\n            category: category,\n            description: description,\n            setStep: this.handleStepChange,\n            setFormData: this.handleFormDataChange,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 11\n            }\n          });\n\n        case 2:\n          return __jsx(SecondStep, {\n            type: meetingType,\n            time: meetingTime,\n            setStep: this.handleStepChange,\n            setFormData: this.handleFormDataChange,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 11\n            }\n          });\n\n        case 3:\n          return __jsx(CompletedStep, {\n            formData: values,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 16\n            }\n          });\n      }\n    }\n  }]);\n\n  return AppointmentForm;\n}(Component);\n\n_defineProperty(AppointmentForm, \"propTypes\", {\n  cookies: instanceOf(Cookies).isRequired\n});\n\nvar CompletedStep = function CompletedStep(_ref2) {\n  var formData = _ref2.formData;\n  return __jsx(\"div\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    align: \"center\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, \"Completed!\"), __jsx(Typography, {\n    variant: \"body1\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, JSON.stringify(formData)));\n};\n\n_c = CompletedStep;\nexport default _c2 = withCookies(AppointmentForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CompletedStep\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/Reading stuffs/Sketches/Tracthon/components/assistance/appointmentForm.jsx"],"names":["Component","instanceOf","withCookies","Cookies","AssistanceType","FirstStep","SecondStep","Typography","AppointmentForm","step","assistanceType","category","description","meetingType","meetingTime","cookies","props","console","log","get","requestOptions","method","headers","body","JSON","stringify","userInfo","fetch","server","response","json","token","setState","field","value","state","values","handleStepChange","handleFormDataChange","isRequired","CompletedStep","formData"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\r\nimport { instanceOf } from \"prop-types\";\r\n\r\nimport { withCookies, Cookies } from \"react-cookie\";\r\n\r\nimport AssistanceType from \"./assistanceType\";\r\nimport FirstStep from \"./firstStep\";\r\nimport SecondStep from \"./secondStep\";\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nclass AppointmentForm extends Component {\r\n  static propTypes = {\r\n    cookies: instanceOf(Cookies).isRequired,\r\n  };\r\n\r\n  state = {\r\n    step: 0,\r\n    assistanceType: \"\",\r\n    category: \"\",\r\n    description: \"\",\r\n    meetingType: \"\",\r\n    meetingTime: \"\",\r\n  };\r\n\r\n  handleStepChange = async (step) => {\r\n    const { cookies } = this.props;\r\n    console.log(\"Token from cookies in appointment form\", cookies.get(\"token\"));\r\n\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(userInfo),\r\n    };\r\n\r\n    const response = await fetch(server + \"/api/POST\", requestOptions);\r\n    const token = await response.json();\r\n\r\n    this.setState({ step: step });\r\n  };\r\n\r\n  handleFormDataChange = (field, value) => {\r\n    this.setState({ [field]: value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      step,\r\n      assistanceType,\r\n      category,\r\n      description,\r\n      meetingType,\r\n      meetingTime,\r\n    } = this.state;\r\n\r\n    const values = {\r\n      assistanceType,\r\n      category,\r\n      description,\r\n      meetingType,\r\n      meetingTime,\r\n    };\r\n\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <AssistanceType\r\n            setStep={this.handleStepChange}\r\n            setFormData={this.handleFormDataChange}\r\n          />\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <FirstStep\r\n            category={category}\r\n            description={description}\r\n            setStep={this.handleStepChange}\r\n            setFormData={this.handleFormDataChange}\r\n          />\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <SecondStep\r\n            type={meetingType}\r\n            time={meetingTime}\r\n            setStep={this.handleStepChange}\r\n            setFormData={this.handleFormDataChange}\r\n          />\r\n        );\r\n\r\n      case 3:\r\n        return <CompletedStep formData={values} />;\r\n    }\r\n  }\r\n}\r\n\r\nconst CompletedStep = ({ formData }) => {\r\n  return (\r\n    <div>\r\n      <h1 align=\"center\">Completed!</h1>\r\n      <Typography variant=\"body1\">{JSON.stringify(formData)}</Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withCookies(AppointmentForm);\r\n"]},"metadata":{},"sourceType":"module"}