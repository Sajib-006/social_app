{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Reading stuffs\\\\Sketches\\\\Tracthon\\\\components\\\\home\\\\signupform.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Router from \"next/router\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useForm } from \"react-hook-form\";\nimport { useCookies } from \"react-cookie\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    paper: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      marginBottom: 30\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: \"100%\",\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    }\n  };\n});\nvar server = \"http://localhost:3001\";\n\nvar SignupForm = function SignupForm() {\n  _s();\n\n  var classes = useStyles();\n\n  var _useCookies = useCookies(),\n      _useCookies2 = _slicedToArray(_useCookies, 2),\n      cookies = _useCookies2[0],\n      setCookie = _useCookies2[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var onFormSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(userInfo, e) {\n      var requestOptions, response, token;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"from client side \", userInfo);\n              requestOptions = {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(userInfo)\n              };\n              _context.next = 4;\n              return fetch(server + \"/api/POST\", requestOptions);\n\n            case 4:\n              response = _context.sent;\n              _context.next = 7;\n              return response.json();\n\n            case 7:\n              token = _context.sent;\n              setCookie(\"token\", token, {\n                path: \"/\"\n              });\n              Router.push(\"/\");\n              console.log(\"token from cookies\", cookies.token);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onFormSubmit(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, __jsx(CssBaseline, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: classes.paper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, __jsx(Avatar, {\n    className: classes.avatar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, __jsx(LockOutlinedIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  })), __jsx(Typography, {\n    variant: \"h5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"Sign Up\"), __jsx(\"form\", {\n    className: classes.form,\n    onSubmit: handleSubmit(onFormSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, __jsx(TextField, {\n    inputRef: register,\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"username\",\n    label: \"Username\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), __jsx(TextField, {\n    inputRef: register,\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }), __jsx(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"Sign Up\")), __jsx(Typography, {\n    align: \"center\",\n    variant: \"body1\",\n    style: {\n      marginTop: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"You can provide your real information or make up any username to remain anonymous. We just need you to sign up so that we can provide you with our service.\")));\n};\n\n_s(SignupForm, \"P3TcFtPl0sXtIxnhxVrYjeq48qQ=\", false, function () {\n  return [useStyles, useCookies, useForm];\n});\n\n_c = SignupForm;\nexport default SignupForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"sources":["D:/Reading stuffs/Sketches/Tracthon/components/home/signupform.jsx"],"names":["Router","Avatar","Button","CssBaseline","TextField","LockOutlinedIcon","Typography","makeStyles","Container","useForm","useCookies","useStyles","theme","paper","display","flexDirection","alignItems","marginBottom","avatar","margin","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","server","SignupForm","classes","cookies","setCookie","register","handleSubmit","onFormSubmit","userInfo","e","console","log","requestOptions","method","headers","body","JSON","stringify","fetch","response","json","token","path","push"],"mappings":";;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,aAAnB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AAEA,SAASC,OAAT,QAAwB,iBAAxB;AAEA,SAASC,UAAT,QAA2B,cAA3B;AAEA,IAAMC,SAAS,GAAGJ,UAAU,CAAC,UAACK,KAAD;AAAA,SAAY;AACvCC,IAAAA,KAAK,EAAE;AACLC,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,aAAa,EAAE,QAFV;AAGLC,MAAAA,UAAU,EAAE,QAHP;AAILC,MAAAA,YAAY,EAAE;AAJT,KADgC;AAOvCC,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAEP,KAAK,CAACQ,OAAN,CAAc,CAAd,CADF;AAENC,MAAAA,eAAe,EAAET,KAAK,CAACU,OAAN,CAAcC,SAAd,CAAwBC;AAFnC,KAP+B;AAWvCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,MADH;AACW;AACfC,MAAAA,SAAS,EAAEf,KAAK,CAACQ,OAAN,CAAc,CAAd;AAFP,KAXiC;AAevCQ,IAAAA,MAAM,EAAE;AACNT,MAAAA,MAAM,EAAEP,KAAK,CAACQ,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB;AADF;AAf+B,GAAZ;AAAA,CAAD,CAA5B;AAoBA,IAAMS,MAAM,GAAG,uBAAf;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA;;AACvB,MAAMC,OAAO,GAAGpB,SAAS,EAAzB;;AADuB,oBAGMD,UAAU,EAHhB;AAAA;AAAA,MAGhBsB,OAHgB;AAAA,MAGPC,SAHO;;AAAA,iBAKYxB,OAAO,EALnB;AAAA,MAKfyB,QALe,YAKfA,QALe;AAAA,MAKLC,YALK,YAKLA,YALK;;AAOvB,MAAMC,YAAY;AAAA,wEAAG,iBAAOC,QAAP,EAAiBC,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,cAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCH,QAAjC;AAEMI,cAAAA,cAHa,GAGI;AACrBC,gBAAAA,MAAM,EAAE,MADa;AAErBC,gBAAAA,OAAO,EAAE;AAAE,kCAAgB;AAAlB,iBAFY;AAGrBC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,QAAf;AAHe,eAHJ;AAAA;AAAA,qBASIU,KAAK,CAAClB,MAAM,GAAG,WAAV,EAAuBY,cAAvB,CATT;;AAAA;AASbO,cAAAA,QATa;AAAA;AAAA,qBAUCA,QAAQ,CAACC,IAAT,EAVD;;AAAA;AAUbC,cAAAA,KAVa;AAYnBjB,cAAAA,SAAS,CAAC,OAAD,EAAUiB,KAAV,EAAiB;AAAEC,gBAAAA,IAAI,EAAE;AAAR,eAAjB,CAAT;AAEAnD,cAAAA,MAAM,CAACoD,IAAP,CAAY,GAAZ;AAEAb,cAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCR,OAAO,CAACkB,KAA1C;;AAhBmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZd,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAmBA,SACE,MAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,QAAQ,EAAC,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAEL,OAAO,CAAClB,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,SAAS,EAAEkB,OAAO,CAACb,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAKE,MAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF,EAOE;AAAM,IAAA,SAAS,EAAEa,OAAO,CAACN,IAAzB;AAA+B,IAAA,QAAQ,EAAEU,YAAY,CAACC,YAAD,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AACE,IAAA,QAAQ,EAAEF,QADZ;AAEE,IAAA,OAAO,EAAC,UAFV;AAGE,IAAA,MAAM,EAAC,QAHT;AAIE,IAAA,QAAQ,MAJV;AAKE,IAAA,SAAS,MALX;AAME,IAAA,IAAI,EAAC,UANP;AAOE,IAAA,KAAK,EAAC,UAPR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAUE,MAAC,SAAD;AACE,IAAA,QAAQ,EAAEA,QADZ;AAEE,IAAA,OAAO,EAAC,UAFV;AAGE,IAAA,MAAM,EAAC,QAHT;AAIE,IAAA,QAAQ,MAJV;AAKE,IAAA,SAAS,MALX;AAME,IAAA,IAAI,EAAC,UANP;AAOE,IAAA,KAAK,EAAC,UAPR;AAQE,IAAA,IAAI,EAAC,UARP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAoBE,MAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,MAFX;AAGE,IAAA,OAAO,EAAC,WAHV;AAIE,IAAA,KAAK,EAAC,SAJR;AAKE,IAAA,SAAS,EAAEH,OAAO,CAACH,MALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eApBF,CAPF,EAsCE,MAAC,UAAD;AAAY,IAAA,KAAK,EAAC,QAAlB;AAA2B,IAAA,OAAO,EAAC,OAAnC;AAA2C,IAAA,KAAK,EAAE;AAAED,MAAAA,SAAS,EAAE;AAAb,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mKAtCF,CAFF,CADF;AAiDD,CA3ED;;GAAMG,U;UACYnB,S,EAEaD,U,EAEMD,O;;;KAL/BqB,U;AA6EN,eAAeA,UAAf","sourcesContent":["import Router from \"next/router\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    marginBottom: 30,\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst server = \"http://localhost:3001\";\r\n\r\nconst SignupForm = () => {\r\n  const classes = useStyles();\r\n\r\n  const [cookies, setCookie] = useCookies();\r\n\r\n  const { register, handleSubmit } = useForm();\r\n\r\n  const onFormSubmit = async (userInfo, e) => {\r\n    console.log(\"from client side \", userInfo);\r\n\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(userInfo),\r\n    };\r\n\r\n    const response = await fetch(server + \"/api/POST\", requestOptions);\r\n    const token = await response.json();\r\n\r\n    setCookie(\"token\", token, { path: \"/\" });\r\n\r\n    Router.push(\"/\");\r\n\r\n    console.log(\"token from cookies\", cookies.token);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n\r\n        <Typography variant=\"h5\">Sign Up</Typography>\r\n\r\n        <form className={classes.form} onSubmit={handleSubmit(onFormSubmit)}>\r\n          <TextField\r\n            inputRef={register}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"username\"\r\n            label=\"Username\"\r\n          />\r\n          <TextField\r\n            inputRef={register}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n        </form>\r\n\r\n        <Typography align=\"center\" variant=\"body1\" style={{ marginTop: 20 }}>\r\n          You can provide your real information or make up any username to\r\n          remain anonymous. We just need you to sign up so that we can provide\r\n          you with our service.\r\n        </Typography>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SignupForm;\r\n"]},"metadata":{},"sourceType":"module"}